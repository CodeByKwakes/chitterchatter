<!DOCTYPE html>
<html>
<head>
	<title>Chitter Chatter</title>
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
	<script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
	<script src="https://cdn.firebase.com/libs/angularfire/1.1.3/angularfire.min.js"></script>
  <link rel="stylesheet" type="text/css" href="./css/normalize.css">
  <link rel="stylesheet" type="text/css" href="./css/skeleton.css">
  <link type="text/stylesheet" rel="stylesheet" href="./css/style.css" />
	<script type="text/javascript" src="./js/app.js"></script>
</head>
<body>
	<div class="wrapper">
		<h1>ChitterChatter</h1>
		<div ng-app="chitterChatterApp" ng-controller="ChatCtrl as chats">
			<form ng-show="!showDetails" ng-submit="chats.addUsername(username)">
				<input type="text" placeholder="Enter username" ng-model="chats.username">
				<input type="text" ng-model="chats.image" placeholder="Profile Picture URL">
				<input class="button-primary" type="submit" value="Add Details" ng-click="showDetails = !showDetails">
			</form>
			<h2 ng-hide="!showDetails"> Welcome, {{chats.username}} </h2>
			<div class="table-wrapper">
			  <table class="chatbox">
		      <tbody>
		      	<tr ng-repeat="message in chats.messages">
		      		<td><img ng-src="{{message.image}}" style="width:20px;height:20px;border-radius:20px"></td>
		      		<td>{{ message.from }}:</td>
		      		<td>{{ message.content }}</td>
		      	</tr>
		      </tbody>
		    </table>
		  </div>
		  <div class="form-wrapper" emoji-form emoji-message="emojiMessage">
			  <form ng-hide="!showDetails" ng-submit="chats.addMessage()">
			    <input placeholder="Enter message" type="text" ng-model="chats.message">
			    <input type="submit" class="button-primary" value="Add Message">
		    </form>
		  </div>
		</div>
	</div>
</body>
</html>